{"version":3,"sources":["app.js","environment.js","main.js","game/create.js","game/edit-questions.js","game/join.js","highscore/highscore-table.js","highscore/highscore.js","home/index.js","lobby/lobby.js","question/question.js","resources/index.js","services/game-hub-singleton.js","services/signalr-service.js","D:/projects/wedding-quiz/backend/MrAndMrs.App3/wwwroot/src/app.html","D:/projects/wedding-quiz/backend/MrAndMrs.App3/wwwroot/src/styles/bootstrap.min.css","D:/projects/wedding-quiz/backend/MrAndMrs.App3/wwwroot/src/highscore/highscore-table.html","D:/projects/wedding-quiz/backend/MrAndMrs.App3/wwwroot/src/styles/styles.css","D:/projects/wedding-quiz/backend/MrAndMrs.App3/wwwroot/src/highscore/highscore.html","D:/projects/wedding-quiz/backend/MrAndMrs.App3/wwwroot/src/game/create.html","D:/projects/wedding-quiz/backend/MrAndMrs.App3/wwwroot/src/game/edit-questions.html","D:/projects/wedding-quiz/backend/MrAndMrs.App3/wwwroot/src/game/join.html","D:/projects/wedding-quiz/backend/MrAndMrs.App3/wwwroot/src/home/datenschutz.html","D:/projects/wedding-quiz/backend/MrAndMrs.App3/wwwroot/src/home/impressum.html","D:/projects/wedding-quiz/backend/MrAndMrs.App3/wwwroot/src/home/index.html","D:/projects/wedding-quiz/backend/MrAndMrs.App3/wwwroot/src/lobby/lobby.html","D:/projects/wedding-quiz/backend/MrAndMrs.App3/wwwroot/src/question/question.html"],"names":["App","message","configureRouter","config","router","title","map","route","name","moduleId","debug","testing","configure","Promise","warnings","wForgottenReturn","aurelia","use","standardConfiguration","feature","developmentLogging","plugin","start","then","setRoot","create","signalrService","eventAggregator","questions","playerlist","nameMr","nameMrs","activate","params","self","gameId","window","localStorage","setItem","verifyConnected","game","subscribe","updatedPlayerList","console","log","startGame","navigateToRoute","isModerator","EditQuestions","parentModel","newQuestionText","buttonsDisabled","questionsModel","i","length","push","Question","updateQuestions","deleteQuestion","question","index","indexOf","splice","addQuestion","questionToCreate","moveUp","text","currentIndex","move","moveDown","targetIndex","questionToMove","rawQuestions","triggerUpdateCallback","editActive","changeEditState","updateText","join","inject","theRouter","guid","s4","Math","floor","random","toString","substring","joinGame","client","accountKey","getItem","postParams","username","createRequest","asPost","withHeader","withContent","send","result","JSON","parse","data","response","Storage","alert","state","showHighscore","HighscoreTableCustomElement","highscore","isFinished","highscoreTableModel","Entries","names","score","answerStatistics","mrs","mr","both","previousQuestionIndex","currentQuestion","currentQuestionIndex","statistics","playerList","totalPlayers","getHighscore","calculatePercentage","count","total","$","click","post","userName","val","ajax","url","method","createGame","isLastQuestion","selectedAnswer","updatedQuestionIndex","questionIndex","info","nextQuestion","endGame","selectAnswer","answer","GameHubSingleton","hub","createGameHub","connection","createHubProxy","qs","logging","SignalrService","gameHub","getGameId","promise","resolve","reject","instance","on","updatedPlayerlist","publish","done","invoke","server","showNextQuestion"],"mappings":"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","file":"app-bundle.js","sourcesContent":["export class App {\r\n    constructor() {\r\n        this.message = 'Hello World!';\r\n    }\r\n\r\n    configureRouter(config, router) {\r\n        this.router = router;\r\n        config.title = 'Mr & Mrs';\r\n        config.map([\r\n            { route: ['', 'home'], name: 'home', moduleId: 'home/index' },\r\n            { route: ['/game/create'], name: 'gameCreation', moduleId: 'game/create' },\r\n            { route: ['/game/join'], name: 'game', moduleId: 'game/join' },\r\n            { route: ['/question/question'], name: 'question', moduleId: 'question/question' },\r\n            { route: ['/highscore'], name: 'highscore', moduleId: 'highscore/highscore' },\r\n            { route: ['/lobby'], name: 'lobby', moduleId: 'lobby/lobby' },\r\n            { route: ['/impressum'], name: 'impressum', moduleId: 'home/impressum.html' },\r\n            { route: ['/datenschutz'], name: 'datenschutz', moduleId: 'home/datenschutz.html' }\r\n            // { route: 'users', name: 'users', moduleId: 'users/index', nav: true },\r\n            // { route: 'users/:id/detail', name: 'userDetail', moduleId: 'users/detail' },\r\n            // { route: 'files*path', name: 'files', moduleId: 'files/index', href: '#files', nav: true }\r\n        ]);\r\n    }\r\n}\r\n","export default {\r\n  debug: true,\r\n  testing: true\r\n};\r\n","import environment from './environment';\r\n\r\n//Configure Bluebird Promises.\r\n//Note: You may want to use environment-specific configuration.\r\nPromise.config({\r\n  warnings: {\r\n    wForgottenReturn: false\r\n  }\r\n});\r\n\r\nexport function configure(aurelia) {\r\n  aurelia.use\r\n    .standardConfiguration()\r\n    .router()\r\n    .feature('resources');\r\n\r\n  if (environment.debug) {\r\n    aurelia.use.developmentLogging();\r\n  }\r\n\r\n  if (environment.testing) {\r\n    aurelia.use.plugin('aurelia-testing');\r\n  }\r\n\r\n  aurelia.start().then(() => aurelia.setRoot());\r\n}\r\n","import { SignalrService } from 'services/signalr-service';\r\nimport { inject } from 'aurelia-framework';\r\nimport { EventAggregator } from 'aurelia-event-aggregator';\r\nimport { Router } from 'aurelia-router';\r\n\r\n@inject(SignalrService, EventAggregator, Router)\r\nexport class create {\r\n    constructor(signalrService, eventAggregator, router) {\r\n        this.playerlist = [\"Noch keine Spieler\"];\r\n        this.signalrService = signalrService;\r\n        this.eventAggregator = eventAggregator;\r\n        this.router = router;\r\n        this.nameMr = \"\";\r\n        this.nameMrs = \"\";\r\n    }\r\n\r\n    questions = [];\r\n\r\n    activate(params) {\r\n        var self = this;\r\n        this.gameId = params.gameId;\r\n        window.localStorage.setItem(\"username\", \"moderator\");\r\n        window.localStorage.setItem(\"currentGame\", this.gameId);\r\n        window.localStorage.setItem(\"isModerator\", true);\r\n\r\n        this.signalrService.verifyConnected(this.gameId)\r\n            .then((game) => {\r\n                self.game = game;\r\n                self.questions = game.questions;\r\n\r\n                this.eventAggregator.subscribe('playerListUpdated', (updatedPlayerList) => {\r\n                    console.log(\"we should update playerlist now for moderator view.\")\r\n                    console.log(updatedPlayerList);\r\n                    self.playerlist = updatedPlayerList;\r\n                });\r\n            });\r\n    }\r\n\r\n    startGame() {\r\n        var self = this;\r\n        this.signalrService.startGame(self.game.gameId)\r\n            .then(() => {\r\n                console.log(\"change view now\");\r\n                self.router.navigateToRoute(\"question\", {\r\n                    isModerator: true,\r\n                    gameId: self.game.gameId\r\n                });\r\n            });\r\n    }\r\n}\r\n","import { SignalrService } from 'services/signalr-service';\r\nimport { inject } from 'aurelia-framework';\r\nimport { create } from './create';\r\n\r\n@inject(create, SignalrService)\r\nexport class EditQuestions {\r\n  constructor(parentModel, signalrService) {\r\n    this.parentModel = parentModel;\r\n    this.signalrService = signalrService;\r\n    this.newQuestionText = \"\";\r\n    this.buttonsDisabled = false;\r\n  }\r\n\r\n  activate(questions) {\r\n    this.questions = questions;\r\n    this.questionsModel = [];\r\n\r\n    for (var i = 0; i < this.questions.length; i++) {\r\n      this.questionsModel.push(new Question(this.questions[i], () => this.updateQuestions()));\r\n    }\r\n  }\r\n\r\n  get lastQuestion() {\r\n    return this.questionsModel[this.questionsModel.length - 1];\r\n  }\r\n\r\n  get firstQuestion() {\r\n    return this.questionsModel[0];\r\n  }\r\n  \r\n\r\n  deleteQuestion(question) {\r\n    var index = this.questionsModel.indexOf(question);\r\n    this.questionsModel.splice(index, 1);\r\n    this.updateQuestions();\r\n  }\r\n\r\n  addQuestion() {\r\n    let questionToCreate = new Question(this.newQuestionText, () => this.updateQuestions());\r\n    this.questionsModel.push(questionToCreate);\r\n    this.updateQuestions();\r\n    this.newQuestionText = \"\";\r\n  }\r\n\r\n  moveUp(question) {\r\n    console.log(\"move question up\", question.text);\r\n    var currentIndex = this.questionsModel.indexOf(question);\r\n    this.move(question, currentIndex - 1);\r\n  }\r\n\r\n  moveDown(question) {\r\n    console.log(\"move question down\", question.text);\r\n    var currentIndex = this.questionsModel.indexOf(question);\r\n    this.move(question, currentIndex + 1);\r\n  }\r\n\r\n  move(question, targetIndex) {\r\n    var currentIndex = this.questionsModel.indexOf(question);\r\n    var questionToMove = this.questionsModel[targetIndex];\r\n    this.questionsModel.splice(targetIndex, 1, question);\r\n    this.questionsModel.splice(currentIndex, 1, questionToMove);\r\n    this.updateQuestions();\r\n  }\r\n\r\n  updateQuestions() {\r\n    var self = this;\r\n    self.buttonsDisabled = true;\r\n    var rawQuestions = this.questionsModel.map(function (question) {\r\n      return question.text;\r\n    });\r\n\r\n    console.log(\"questions to update:\", rawQuestions);\r\n\r\n    this.signalrService.updateQuestions(rawQuestions).then(() => {\r\n      console.log(\"questions updated on server\")\r\n      self.buttonsDisabled = false;\r\n    });\r\n\r\n  }\r\n}\r\n\r\nexport class Question {\r\n  constructor(text, triggerUpdateCallback) {\r\n    this.text = text;\r\n    this.editActive = false;\r\n    this.triggerUpdateCallback = triggerUpdateCallback;\r\n  }\r\n\r\n  changeEditState() {\r\n    this.editActive = true;\r\n  }\r\n\r\n  updateText() {\r\n    this.editActive = false;\r\n    this.triggerUpdateCallback();\r\n  }\r\n}\r\n\r\n","import { HttpClient } from \"aurelia-http-client\";\r\nimport { Router } from 'aurelia-router';\r\n\r\nexport class join {\r\n\r\n    static inject() { return [Router]; }\r\n\r\n    constructor(router) {\r\n        this.name = \"\";\r\n        this.gameId = \"\";\r\n        this.theRouter = router;\r\n    }\r\n\r\n    guid() {\r\n        return this.s4() + this.s4() + '-' + this.s4() + '-' + this.s4() + '-' +\r\n            this.s4() + '-' + this.s4() + this.s4() + this.s4();\r\n    }\r\n\r\n    s4() {\r\n        return Math.floor((1 + Math.random()) * 0x10000)\r\n            .toString(16)\r\n            .substring(1);\r\n    }\r\n\r\n    joinGame() {\r\n        var client = new HttpClient();\r\n\r\n        var accountKey = window.localStorage.getItem(\"accountKey\");\r\n        if(!accountKey){\r\n            accountKey = this.guid();\r\n            window.localStorage.setItem(\"accountKey\", accountKey);\r\n        }\r\n\r\n        var postParams = {\r\n            username: this.name,\r\n            gameId: this.gameId,\r\n            accountKey : accountKey\r\n        };\r\n\r\n        console.log(\"try to join game\", postParams);\r\n\r\n        client.createRequest(\"/game/join\")\r\n            .asPost()\r\n            .withHeader('Content-Type', 'application/json; charset=utf-8')\r\n            .withContent(postParams)\r\n            .send()\r\n            .then(data => {\r\n                var result = JSON.parse(data.response);\r\n                console.log(\"result\", result);\r\n\r\n                if (result.result === \"allow_connection\") {\r\n                    if (typeof (Storage) !== \"undefined\") {\r\n                        // Code for localStorage/sessionStorage.\r\n                        window.localStorage.setItem(\"username\", postParams.username);\r\n                        window.localStorage.setItem(\"currentGame\", result.game.gameId);\r\n                        window.localStorage.setItem(\"isModerator\", false);\r\n                    } else {\r\n                        alert(\"Sorry, no support for your browser.\")\r\n                        return;\r\n                    }\r\n\r\n                    // -> lobby\r\n                    if (result.game.state === 0) {\r\n                        this.theRouter.navigateToRoute(\"lobby\", {\r\n                            gameId: result.game.gameId,\r\n                            username: postParams.username\r\n                        });\r\n                    }\r\n\r\n                    // -> question\r\n                    if (result.game.state === 1) {\r\n                        this.theRouter.navigateToRoute(\"question\", {\r\n                            gameId: result.game.gameId,\r\n                        });\r\n                    }\r\n\r\n                    // -> question\r\n                    if (result.game.state === 2) {\r\n                        this.theRouter.navigateToRoute(\"highscore\", {\r\n                            gameId: result.game.gameId,\r\n                        });\r\n                    }\r\n\r\n\r\n                } else {\r\n                    alert(result.result);\r\n                }\r\n\r\n            });\r\n    }\r\n\r\n    showHighscore() {\r\n        this.theRouter.navigateToRoute(\"highscore\", {\r\n            gameId: this.gameId,\r\n        });\r\n    }\r\n\r\n}\r\n","import { bindable } from 'aurelia-framework';\r\n\r\nexport class HighscoreTableCustomElement {\r\n  @bindable model;\r\n\r\n\r\n  activate(questions){\r\n  debugger;  \r\n  }\r\n}\r\n\r\n","import { HttpClient } from \"aurelia-http-client\";\r\nimport { EventAggregator } from 'aurelia-event-aggregator';\r\nimport { SignalrService } from 'services/signalr-service';\r\nimport { inject } from 'aurelia-framework';\r\nimport { Router } from 'aurelia-router';\r\nimport { computedFrom } from 'aurelia-framework';\r\n\r\n@inject(SignalrService, EventAggregator, Router)\r\nexport class highscore {\r\n    constructor(signalrService, eventAggregator, router) {\r\n        this.message = 'Hello World!';\r\n        this.isFinished = false;\r\n        this.eventAggregator = eventAggregator;\r\n        this.signalrService = signalrService;\r\n        this.highscoreTableModel = {\r\n            Entries: [{\r\n                names: \"?\",\r\n                score: \"?\"\r\n            }],\r\n        };\r\n        this.answerStatistics = {\r\n            mrs: 0,\r\n            mr: 0,\r\n            both: 0\r\n        };\r\n        \r\n        this.previousQuestionIndex = -1;\r\n    }\r\n\r\n    activate(params) {\r\n        var self = this;\r\n\r\n\r\n        this.eventAggregator.subscribe(\"highscoreUpdated\", function (highscore) {\r\n            console.log(\"highscore should be updated.\", highscore);\r\n            self.highscoreTableModel = highscore;\r\n        });\r\n\r\n\r\n        this.eventAggregator.subscribe(\"gameUpdated\", function (game) {\r\n            console.log(\"game updated.\", game);\r\n            self.game = game;\r\n            self.currentQuestion = game.questions[game.currentQuestionIndex];\r\n            \r\n            if (game.currentQuestionIndex !== self.previousQuestionIndex) {\r\n                self.answerStatistics.mr = 0;\r\n                self.answerStatistics.mrs = 0;\r\n                self.answerStatistics.both = 0;\r\n            }\r\n        });\r\n\r\n        this.eventAggregator.subscribe(\"answerSelected\", function (statistics) {\r\n            console.log(\"Answer statistic updated.\", statistics);\r\n            self.answerStatistics = statistics;\r\n        });\r\n\r\n        this.eventAggregator.subscribe(\"playerListUpdated\", function (playerList) {\r\n            self.totalPlayers = playerList.length;\r\n        });\r\n\r\n        this.game = {\r\n            questions: [],\r\n        };\r\n\r\n        this.signalrService.verifyConnected(params.gameId)\r\n            .then((game) => {\r\n                self.game = game;\r\n                console.log(\"received game on connected state\", game);\r\n                self.signalrService.getHighscore();\r\n                return game;\r\n            });\r\n    }\r\n\r\n    @computedFrom\r\n    get statsMrs() {\r\n        return this.calculatePercentage(this.answerStatistics.mrs, this.totalPlayers);\r\n    }\r\n\r\n    @computedFrom\r\n    get statsMr() {\r\n        return this.calculatePercentage(this.answerStatistics.mr, this.totalPlayers);\r\n    }\r\n\r\n    @computedFrom\r\n    get statsBoth() {\r\n        return this.calculatePercentage(this.answerStatistics.both, this.totalPlayers);\r\n    }\r\n\r\n    calculatePercentage(count, total) {\r\n        return Math.floor((count / total) * 100);\r\n    }\r\n}\r\n","import { HttpClient } from \"aurelia-http-client\";\r\nimport { Router } from 'aurelia-router';\r\n\r\nlet client = new HttpClient();\r\n\r\nexport class index {\r\n\r\n    static inject() { return [Router]; }\r\n\r\n    constructor(router) {\r\n        this.theRouter = router;\r\n    }\r\n\r\n    activate() {\r\n        $(\"#publishPostButton\").click(function () {\r\n\r\n            const post = {\r\n                userName: $(\"#userNameInput\").val() || \"Guest\",\r\n                text: $(\"#textInput\").val()\r\n            };\r\n            $.ajax({\r\n                url: \"/api/Posts/AddPost\",\r\n                method: \"POST\",\r\n                data: post\r\n            });\r\n        });\r\n    }\r\n\r\n    createGame() {\r\n        console.log(\"create game start\");\r\n\r\n        client.post(\"/game/create\")\r\n            .then(data => {\r\n                var game = JSON.parse(data.response);\r\n                console.log(\"created game on server\", game);\r\n                this.theRouter.navigateToRoute(\"gameCreation\", { gameId: game.gameId });\r\n            });\r\n    }\r\n}","import { SignalrService } from 'services/signalr-service';\r\nimport { inject } from 'aurelia-framework';\r\nimport { EventAggregator } from 'aurelia-event-aggregator';\r\nimport { Router } from 'aurelia-router';\r\n\r\n@inject(SignalrService, EventAggregator, Router)\r\nexport class join {\r\n    constructor(signalrService, eventAggregator, router) {\r\n        console.log(\"lobby.js: received signalr service in constructor\")\r\n        this.message = 'Hello World!';\r\n        this.playerlist = [\"Noch keine Spieler\"];\r\n        this.signalrService = signalrService;\r\n        this.eventAggregator = eventAggregator;\r\n        this.router = router;\r\n    }\r\n\r\n    activate(params) {\r\n        var self = this;\r\n        console.log(\"welcome to the lobby\");\r\n\r\n        this.signalrService.verifyConnected(params.gameId)\r\n            .then(() => {\r\n                this.eventAggregator.subscribe('playerListUpdated', (updatedPlayerList) => {\r\n                    console.log(\"we should update playerlist now.\")\r\n                    console.log(updatedPlayerList);\r\n                    self.playerlist = updatedPlayerList;\r\n                })\r\n\r\n                this.eventAggregator.subscribe(\"gameStarted\", (game) => {\r\n                    self.router.navigateToRoute(\"question\", {\r\n                        isModerator: false,\r\n                        gameId: game.gameId,\r\n                    });\r\n                });\r\n            });\r\n    }\r\n}\r\n","import { inject } from 'aurelia-framework';\r\nimport { SignalrService } from 'services/signalr-service';\r\nimport { EventAggregator } from 'aurelia-event-aggregator';\r\nimport { Router } from 'aurelia-router';\r\n\r\n@inject(SignalrService, EventAggregator, Router)\r\nexport class question {\r\n    constructor(signalrService, eventAggregator, router) {\r\n        this.isModerator = false;\r\n        this.signalrService = signalrService;\r\n        this.eventAggregator = eventAggregator;\r\n        this.router = router;\r\n        this.isLastQuestion = false;\r\n        this.selectedAnswer =  -1;\r\n    }\r\n\r\n    activate(params) {\r\n        var self = this;\r\n        self.gameId = params.gameId;\r\n\r\n        this.signalrService.verifyConnected(params.gameId)\r\n            .then((game) => {\r\n                self.game = game;\r\n                this.eventAggregator.subscribe(\"questionChangeRequested\", function (updatedQuestionIndex) {\r\n                    console.log(\"view should change question now.\");\r\n                    self.questionIndex = updatedQuestionIndex;\r\n                    self.currentQuestion = game.questions[self.questionIndex];\r\n                    self.isLastQuestion = (self.questionIndex + 1 === game.questions.length);\r\n                    self.selectedAnswer = -1;\r\n                });\r\n\r\n                this.eventAggregator.subscribe(\"answerSelected\", function (info) {\r\n                    console.log(\"some user selected answer\", info);\r\n                });\r\n\r\n                this.eventAggregator.subscribe(\"gameEnded\", function () {\r\n                    console.log(\"moderator as finished game.\");\r\n                    self.router.navigateToRoute(\"highscore\", {\r\n                        gameId: self.gameId\r\n                    });\r\n                });\r\n\r\n                console.log(\"question view activated with params\", params);\r\n                this.isModerator = params.isModerator === \"true\";\r\n                this.questionIndex = game.currentQuestionIndex;\r\n                this.currentQuestion = game.questions[this.questionIndex];\r\n                this.isLastQuestion = (self.questionIndex + 1 === game.questions.length);\r\n            });\r\n    }\r\n\r\n    get nextQuestionButtonDisabled(){\r\n        return this.selectedAnswer === -1;\r\n    }\r\n\r\n    nextQuestion() {\r\n        var self = this;\r\n        this.signalrService.verifyConnected()\r\n            .then(() => self.signalrService.nextQuestion());\r\n    }\r\n\r\n    endGame() {\r\n        var self = this;\r\n        self.signalrService.verifyConnected()\r\n            .then(() => self.signalrService.endGame());\r\n    }\r\n\r\n    selectAnswer(answer) {\r\n        var index = this.questionIndex;\r\n        this.selectedAnswer = answer;\r\n        this.signalrService.selectAnswer(answer, index)\r\n            .then(() => {\r\n                console.log(\"user info: selected answer\" + answer + \"for questionIndex: \" + index);\r\n            });\r\n    }\r\n}","export function configure(config) {\r\n  //config.globalResources([]);\r\n}\r\n","export class GameHubSingleton {\r\n    constructor() {\r\n        this.hub = false;\r\n\r\n    }\r\n\r\n\r\n    createGameHub(username, gameId) {\r\n        if (this.hub) {\r\n            return hub;\r\n        }\r\n\r\n        var hub = $.connection.hub.createHubProxy(\"postsHub\");\r\n        $.connection.hub.qs = 'username=' + username + '&gameId=' + gameId;\r\n        $.connection.hub.logging = true;\r\n\r\n        this.hub = hub;\r\n        return hub;\r\n    }\r\n\r\n    get instance() {\r\n        return this.hub;\r\n    }\r\n}","import { inject } from 'aurelia-framework';\r\nimport { EventAggregator } from 'aurelia-event-aggregator';\r\nimport { GameHubSingleton } from 'services/game-hub-singleton';\r\n\r\n@inject(EventAggregator, GameHubSingleton)\r\nexport class SignalrService {\r\n  constructor(eventAggregator, gameHub) {\r\n    console.log(\"signalr service constructor created\")\r\n    this.eventAggregator = eventAggregator;\r\n    this.gameHub = gameHub;\r\n  }\r\n\r\n  activate(params) {\r\n    console.log(\"signalr service activated\")\r\n  }\r\n\r\n  getGameId() {\r\n    var gameId = window.localStorage.getItem(\"currentGame\");\r\n    if (!gameId) {\r\n      throw \"No gameId currently attached to.\";\r\n    }\r\n\r\n    return gameId;\r\n  }\r\n\r\n  verifyConnected(gameId) {\r\n    var username = window.localStorage.getItem(\"username\");\r\n\r\n    if (!gameId) {\r\n      gameId = this.getGameId();\r\n    }\r\n\r\n    var self = this;\r\n\r\n    var promise = new Promise(\r\n      (resolve, reject) => {\r\n\r\n        // already connected hack\r\n        if (!!self.gameHub.instance) {\r\n          resolve(self.game);\r\n          return;\r\n        }\r\n        var gameHub = self.gameHub.createGameHub(username, gameId);\r\n\r\n        gameHub.on('playerListUpdated', function (updatedPlayerlist) {\r\n          console.log(\"Received playerlist\");\r\n          console.log(updatedPlayerlist);\r\n          self.eventAggregator.publish('playerListUpdated', updatedPlayerlist);\r\n        });\r\n\r\n        gameHub.on(\"gameStarted\", function (game) {\r\n          console.log(\"server signalled game was started by moderator\");\r\n          self.eventAggregator.publish('gameStarted', game);\r\n        });\r\n\r\n        gameHub.on(\"questionChangeRequested\", function (response) {\r\n          console.log(\"server signalled question change\", response);\r\n          self.eventAggregator.publish('questionChangeRequested', response);\r\n        });\r\n\r\n        gameHub.on(\"answerSelected\", function (response) {\r\n          console.log(\"user selected answer\", response);\r\n          self.eventAggregator.publish('answerSelected', response);\r\n        });\r\n\r\n        gameHub.on(\"gameEnded\", function (response) {\r\n          console.log(\"moderator has finished the game\", response);\r\n          self.eventAggregator.publish('gameEnded', response);\r\n        });\r\n\r\n        gameHub.on(\"gameUpdated\", function (game) {\r\n          self.game = game;\r\n          resolve(game);\r\n          console.log(\"server sent updated game.\", game);\r\n          self.eventAggregator.publish('gameUpdated', game);\r\n        });\r\n\r\n        gameHub.on(\"highscoreUpdated\", function (highscore) {\r\n          console.log(\"server sent highscore update.\", highscore);\r\n          self.eventAggregator.publish('highscoreUpdated', highscore);\r\n        });\r\n\r\n        $.connection.hub.start().done(function () {\r\n          console.log(\"hub is started now.\");\r\n          gameHub.invoke('updatePlayerList');\r\n        });\r\n\r\n      }\r\n    );\r\n\r\n    return promise;\r\n  }\r\n\r\n  startGame(gameId) {\r\n    var self = this;\r\n    return new Promise((resolve, reject) => {\r\n      console.log(\"triggered game start\");\r\n      self.gameHub.instance.server.startGame(gameId).done(() => {\r\n        console.log(\"game started successfully\");\r\n        resolve();\r\n      });\r\n    });\r\n  }\r\n\r\n  nextQuestion() {\r\n    var self = this;\r\n    console.log(\"moderator switches to next question\");\r\n    return new Promise((resolve, reject) => {\r\n      self.gameHub.instance.server.showNextQuestion(self.game.gameId).done(() => {\r\n        console.log(\"next question request sent.\");\r\n        resolve();\r\n      });\r\n    });\r\n  }\r\n\r\n  selectAnswer(answer, questionIndex) {\r\n    var self = this;\r\n    return new Promise((resolve, reject) => {\r\n      self.gameHub.instance.server.selectAnswer(answer, questionIndex).done(() => {  // todo user info\r\n        console.log(\"selected answer sent to server\", answer, questionIndex);\r\n        resolve();\r\n      });\r\n    });\r\n  }\r\n\r\n  endGame() {\r\n    var self = this;\r\n    return new Promise((resolve, reject) => {\r\n      self.gameHub.instance.server.endGame(self.game.gameId).done(() => {\r\n        console.log(\"request end game on server.\");\r\n        resolve();\r\n      });\r\n    });\r\n  }\r\n\r\n  getHighscore() {\r\n    var self = this;\r\n    self.gameHub.instance.server.getHighscore(self.game.gameId).done(() => {\r\n      console.log(\"request get highscore was received on server.\");\r\n    });\r\n  }\r\n\r\n  updateQuestions(questions) {\r\n    var self = this;\r\n    return new Promise((resolve, reject) => {\r\n      self.gameHub.instance.server.updateQuestions(self.game.gameId, questions).done(() => {\r\n        console.log(\"update questions request was received on server.\");\r\n        resolve();\r\n      });\r\n    });\r\n  }\r\n}\r\n\r\n",null,null,null,null,null,null,null,null,null,null,null,null,null],"sourceRoot":"..\\src"}